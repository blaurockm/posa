<?xml version="1.0" encoding="UTF-8"?>

<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">

   <changeSet id="initialise" author="mblaurock">
      <createTable tableName="posTx">
         <column name="id" type="numeric" autoIncrement="true">
            <constraints primaryKey="true" nullable="false" />
         </column>
         <column name="belegnr" type="int">
            <constraints nullable="false" />
         </column>
         <column name="pointid" type="int">
            <constraints nullable="false" />
         </column>
         <column name="belegidx" type="int" />
         <column name="ean" type="varchar(25)" />
         <column name="isbn" type="varchar(25)" />
         <column name="matchcode" type="varchar(70)" />
         <column name="description" type="varchar(255)" />
         <column name="count" type="int"/>
         <column name="sellingPrice" type="bigint"/>
         <column name="purchasePrice" type="bigint"/>
         <column name="rebate" type="DOUBLE"/>
         <column name="total" type="bigint"/>
         <column name="tax" type="varchar(2)" />
         <column name="txtype" type="varchar(2)" />
         <column name="articleGroupKey" type="varchar(12)" />
         <column name="articleId" type="numeric" />
         <column name="articlekey" type="varchar(10)" />
         <column name="tobeignored" type="bool"/>
         <column name="tobecheckedagain" type="bool"/>
         <column name="timest" type="DATETIME">
            <constraints nullable="false" />
         </column>
      </createTable>
      <createTable tableName="posTicket">
         <column name="id" type="bigint" autoIncrement="true">
            <constraints primaryKey="true" nullable="false" />
         </column>
         <column name="belegnr" type="int">
            <constraints nullable="false" />
         </column>
         <column name="pointid" type="int">
            <constraints nullable="false" />
         </column>
         <column name="total" type="bigint"/>
         <column name="cancelled" type="bool"/>
         <column name="cancel" type="bool"/>
         <column name="paymentMethod" type="varchar(2)" />
         <column name="tobecheckedagain" type="bool"/>
         <column name="timest" type="DATETIME">
            <constraints nullable="false" />
         </column>
      </createTable>
      <createTable tableName="posCashBalance">
         <column name="id" type="bigint" autoIncrement="true">
            <constraints primaryKey="true" nullable="false" />
         </column>
         <column name="abschlussid" type="varchar(10)">
            <constraints nullable="false" />
         </column>
         <column name="pointid" type="int">
            <constraints nullable="false" />
         </column>
         <column name="revenue" type="bigint"/>
         <column name="creationtime" type="DATETIME">
            <constraints nullable="false" />
         </column>
         <column name="balanceSheet" type="clob"/>
         <column name="origSheet" type="clob"/>
         <column name="exported" type="boolean"/>
         <column name="exportDate" type="DATETIME"/>
         <column name="firstCovered" type="DATETIME"/>
         <column name="lastCovered" type="DATETIME"/>
      </createTable>
   </changeSet>
   
   <changeSet id="shiftmgmt" author="mblaurock">
   
      <createTable tableName="Employee">
         <column name="id" type="bigint" autoIncrement="true">
            <constraints primaryKey="true" nullable="false" />
         </column>
         <column name="entryDate" type="DATETIME"/>
         <column name="name" type="varchar2(50)"/>
         <column name="personellNumber" type="int"/>
      </createTable>   
      
      <createTable tableName="Schedule">
         <column name="id" type="bigint" autoIncrement="true">
            <constraints primaryKey="true" nullable="false" />
         </column>
         <column name="weekDay" type="int"/>
         <column name="workFrom" type="DATETIME"/>
         <column name="workTill" type="DATETIME"/>
         <column name="workHours" type="DOUBLE"/>
         <column name="workPlace" type="int"/>
      </createTable>   
      
      <createTable tableName="Shift">
         <column name="id" type="bigint" autoIncrement="true">
            <constraints primaryKey="true" nullable="false" />
         </column>
         <column name="date_" type="DATE"/>
         <column name="employee" type="int"/>
         <column name="store" type="int"/>
         <column name="workFrom" type="DATETIME"/>
         <column name="workTill" type="DATETIME"/>
         <column name="workHours" type="DOUBLE"/>
         <column name="settled" type="boolean"/>
      </createTable>   
      
      <createTable tableName="ShopEvent">
         <column name="id" type="bigint" autoIncrement="true">
            <constraints primaryKey="true" nullable="false" />
         </column>
         <column name="date_" type="DATE"/>
         <column name="caption" type="varchar2(50)"/>
         <column name="description" type="varchar2(100)"/>
         <column name="doneBy" type="int"/>
         <column name="doneWhere" type="int"/>
         <column name="from" type="DATETIME"/>
         <column name="till" type="DATETIME"/>
         <column name="wholeDay" type="DOUBLE"/>
         <column name="workFree" type="boolean"/>
      </createTable>
         
      <createTable tableName="ShopHours">
         <column name="id" type="bigint" autoIncrement="true">
            <constraints primaryKey="true" nullable="false" />
         </column>
         <column name="weekDay" type="int"/>
         <column name="openFrom" type="DATETIME"/>
         <column name="openTill" type="DATETIME"/>
      </createTable>
         
      <createTable tableName="Shop">
         <column name="id" type="bigint" autoIncrement="true">
            <constraints primaryKey="true" nullable="false" />
         </column>
         <column name="abbrev" type="varchar2(10)"/>
         <column name="name" type="varchar2(50)"/>
      </createTable>   
   </changeSet>
   
   
   <changeSet id="invoices" author="mblaurock">
      <createTable tableName="posInvoice">
         <column name="id" type="bigint" autoIncrement="true">
            <constraints primaryKey="true" nullable="false" />
         </column>
         <column name="number" type="varchar(10)">
            <constraints nullable="false" />
         </column>
         <column name="invdate" type="DATETIME">
            <constraints nullable="false" />
         </column>
         <column name="creationtime" type="DATETIME">
            <constraints nullable="false" />
         </column>
         <column name="printDate" type="DATETIME"/>
         <column name="amount" type="bigint"/>
         <column name="amountFull" type="bigint"/>
         <column name="amountHalf" type="bigint"/>
         <column name="amountNone" type="bigint"/>
         <column name="name1" type="varchar(40)" />
         <column name="name2" type="varchar(40)" />
         <column name="name3" type="varchar(40)" />
         <column name="street" type="varchar(40)" />
         <column name="city" type="varchar(50)" />
         <column name="customer" type="int">
            <constraints nullable="false" />
         </column>
         <column name="debitor" type="int"/>
      </createTable>
   </changeSet>
</databaseChangeLog>